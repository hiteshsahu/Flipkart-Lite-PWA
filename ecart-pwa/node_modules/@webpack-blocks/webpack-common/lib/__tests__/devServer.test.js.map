{"version":3,"sources":["../../src/__tests__/devServer.test.js"],"names":["webpack","HotModuleReplacementPlugin","HotModuleReplacementPluginMock","t","currentConfig","entry","main","second","context","block","config","post","deepEqual"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,MAAMA,UAAU;AACdC,8BAA4B,SAASC,8BAAT,GAA2C,CAAE;AAD3D,CAAhB;;AAIA,mBAAK,0CAAL,EAAkDC,CAAD,IAAO;AACtD,QAAMC,gBAAgB;AACpBC,WAAO;AACLC,YAAM,CAAC,WAAD,CADD;AAELC,cAAQ,CAAC,aAAD;AAFH;AADa,GAAtB;;AAOA,QAAMC,UAAU,EAAER,gBAAF,EAAhB;AACA,QAAMS,QAAQ,yBAAU,OAAV,CAAd;AACAA,QAAMD,OAAN,EAAeJ,aAAf;;AAEA,QAAMM,SAASD,MAAME,IAAN,CAAWH,OAAX,EAAoBJ,aAApB,CAAf;AACAD,IAAES,SAAF,CAAYF,OAAOL,KAAnB,EAA0B,EAAEC,MAAM,CAAC,OAAD,CAAR,EAAmBC,QAAQ,CAAC,OAAD,CAA3B,EAA1B;AACD,CAdD;;AAgBA,mBAAK,wDAAL,EAAgEJ,CAAD,IAAO;AACpE,QAAMC,gBAAgB;AACpBC,WAAO;AACLC,YAAM,CAAC,WAAD;AADD;AADa,GAAtB;;AAMA,QAAME,UAAU,EAAER,gBAAF,EAAhB;AACA,QAAMS,QAAQ,0BAAd;AACAA,QAAMD,OAAN,EAAeJ,aAAf;;AAEA,QAAMM,SAASD,MAAME,IAAN,CAAWH,OAAX,EAAoBJ,aAApB,CAAf;AACAD,IAAES,SAAF,CAAYF,OAAOL,KAAP,CAAaC,IAAzB,EAA+B,CAAC,6BAAD,CAA/B;AACD,CAbD","file":"devServer.test.js","sourcesContent":["import test from 'ava'\nimport devServer from '../devServer'\n\nconst webpack = {\n  HotModuleReplacementPlugin: function HotModuleReplacementPluginMock () {}\n}\n\ntest('devServer() add himself to every entries', (t) => {\n  const currentConfig = {\n    entry: {\n      main: ['./test.js'],\n      second: ['./second.js']\n    }\n  }\n\n  const context = { webpack }\n  const block = devServer('entry')\n  block(context, currentConfig)\n\n  const config = block.post(context, currentConfig)\n  t.deepEqual(config.entry, { main: ['entry'], second: ['entry'] })\n})\n\ntest('devServer() use webpack/hot/only-dev-server as default', (t) => {\n  const currentConfig = {\n    entry: {\n      main: ['./test.js']\n    }\n  }\n\n  const context = { webpack }\n  const block = devServer()\n  block(context, currentConfig)\n\n  const config = block.post(context, currentConfig)\n  t.deepEqual(config.entry.main, ['webpack/hot/only-dev-server'])\n})\n"]}